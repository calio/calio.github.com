<svg xmlns="http://www.w3.org/2000/svg" width="680" height="420" viewBox="0 0 680 420">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a7fb5"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="#5a9e6f"/>
    </marker>
    <marker id="arrow-orange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto" markerUnits="strokeWidth">
      <polygon points="0 0, 10 3.5, 0 7" fill="#d4822f"/>
    </marker>
  </defs>

  <style>
    text { font-family: -apple-system, "Helvetica Neue", Arial, sans-serif; }
    .box-label { font-size: 15px; font-weight: 600; fill: #fff; }
    .edge-label { font-size: 12.5px; fill: #555; font-style: italic; }
    .title { font-size: 11px; fill: #888; font-weight: 500; letter-spacing: 0.5px; }
  </style>

  <!-- Background -->
  <rect width="680" height="420" rx="8" fill="#fafafa"/>

  <!-- Agent boundary -->
  <rect x="30" y="55" width="460" height="340" rx="12" fill="none" stroke="#ccc" stroke-width="1.5" stroke-dasharray="8,4"/>
  <text x="45" y="78" class="title">AGENT</text>

  <!-- Environment box -->
  <rect x="540" y="140" width="120" height="55" rx="8" fill="#7a7a7a"/>
  <text x="600" y="173" text-anchor="middle" class="box-label">Environment</text>

  <!-- Policy / Value function box -->
  <rect x="60" y="145" width="160" height="50" rx="8" fill="#4a7fb5"/>
  <text x="140" y="175" text-anchor="middle" class="box-label">Policy / Value</text>

  <!-- Model box -->
  <rect x="260" y="275" width="120" height="50" rx="8" fill="#d4822f"/>
  <text x="320" y="305" text-anchor="middle" class="box-label">Model</text>

  <!-- Experience node (real) -->
  <rect x="310" y="145" width="140" height="50" rx="8" fill="#5a9e6f"/>
  <text x="380" y="168" text-anchor="middle" class="box-label" font-size="13">Real</text>
  <text x="380" y="184" text-anchor="middle" class="box-label" font-size="13">Experience</text>

  <!-- Simulated Experience node -->
  <rect x="80" y="275" width="140" height="50" rx="8" fill="#d4822f" fill-opacity="0.7"/>
  <text x="150" y="298" text-anchor="middle" class="box-label" font-size="13">Simulated</text>
  <text x="150" y="314" text-anchor="middle" class="box-label" font-size="13">Experience</text>

  <!-- Arrow: Policy → Environment (acting) -->
  <line x1="220" y1="158" x2="535" y2="158" stroke="#4a7fb5" stroke-width="2" marker-end="url(#arrow-blue)"/>
  <text x="370" y="148" text-anchor="middle" class="edge-label" fill="#4a7fb5">acting</text>

  <!-- Arrow: Environment → Real Experience -->
  <line x1="540" y1="182" x2="455" y2="182" stroke="#5a9e6f" stroke-width="2" marker-end="url(#arrow-green)"/>

  <!-- Arrow: Real Experience → Policy (direct RL) -->
  <line x1="310" y1="170" x2="225" y2="170" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="268" y="162" text-anchor="middle" class="edge-label">direct RL</text>

  <!-- Arrow: Real Experience → Model (model learning) -->
  <line x1="370" y1="195" x2="340" y2="270" stroke="#d4822f" stroke-width="2" marker-end="url(#arrow-orange)"/>
  <text x="383" y="237" text-anchor="middle" class="edge-label" fill="#d4822f">model learning</text>

  <!-- Arrow: Model → Simulated Experience (search / planning) -->
  <line x1="260" y1="300" x2="225" y2="300" stroke="#d4822f" stroke-width="2" marker-end="url(#arrow-orange)"/>
  <text x="243" y="345" text-anchor="middle" class="edge-label" fill="#d4822f">search / planning</text>

  <!-- Arrow: Simulated Experience → Policy (planning updates) -->
  <line x1="140" y1="275" x2="140" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="95" y="245" text-anchor="middle" class="edge-label">planning<tspan x="95" dy="15">updates</tspan></text>
</svg>